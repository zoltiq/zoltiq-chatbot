(function(we,Pt){typeof exports=="object"&&typeof module<"u"?module.exports=Pt():typeof define=="function"&&define.amd?define(Pt):(we=typeof globalThis<"u"?globalThis:we||self,we.ChatBot=Pt())})(this,function(){"use strict";var Pt=Array.isArray,Ge=Array.from,hn=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,mn=Object.getOwnPropertyDescriptors,gn=Object.prototype,yn=Array.prototype,_r=Object.getPrototypeOf;const vt=()=>{};function bn(t){return t()}function ke(t){for(var e=0;e<t.length;e++)t[e]()}const Y=2,vr=4,Qt=8,He=16,tt=32,Xt=64,Ct=128,xe=256,L=512,ht=1024,Dt=2048,ot=4096,te=8192,wn=16384,ze=32768,hr=65536,kn=1<<18,mr=1<<19,mt=Symbol("$state"),xn=Symbol("legacy props");function gr(t){return t===this.v}function yr(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Ve(t){return!yr(t,this.v)}function zn(t){throw new Error("effect_in_teardown")}function En(){throw new Error("effect_in_unowned_derived")}function Pn(t){throw new Error("effect_orphan")}function Cn(){throw new Error("effect_update_depth_exceeded")}function jn(t){throw new Error("props_invalid_value")}function An(){throw new Error("state_descriptors_fixed")}function In(){throw new Error("state_prototype_fixed")}function Tn(){throw new Error("state_unsafe_local_read")}function Sn(){throw new Error("state_unsafe_mutation")}let Nt=!1;function On(){Nt=!0}function J(t){return{f:0,v:t,reactions:null,equals:gr,version:0}}function Ee(t,e=!1){var a;const r=J(t);return e||(r.equals=Ve),Nt&&T!==null&&T.l!==null&&((a=T.l).s??(a.s=[])).push(r),r}function it(t,e=!1){return Dn(Ee(t,e))}function Dn(t){return A!==null&&A.f&Y&&(lt===null?ea([t]):lt.push(t)),t}function br(t,e){return g(t,kt(()=>y(t))),e}function g(t,e){return A!==null&&De()&&A.f&(Y|He)&&(lt===null||!lt.includes(t))&&Sn(),Ze(t,e)}function Ze(t,e){return t.equals(e)||(t.v=e,t.version=Ur(),wr(t,ht),De()&&z!==null&&z.f&L&&!(z.f&tt)&&(R!==null&&R.includes(t)?(et(z,ht),Ne(z)):bt===null?ra([t]):bt.push(t))),e}function wr(t,e){var r=t.reactions;if(r!==null)for(var a=De(),n=r.length,o=0;o<n;o++){var s=r[o],f=s.f;f&ht||!a&&s===z||(et(s,e),f&(L|Ct)&&(f&Y?wr(s,Dt):Ne(s)))}}const Ke=1,Ye=2,kr=4,Nn=8,qn=16,Mn=1,$n=2,Rn=4,Ln=8,Bn=16,Wn=1,Fn=2,V=Symbol();let xr=!1;function qt(t,e=null,r){if(typeof t!="object"||t===null||mt in t)return t;const a=_r(t);if(a!==gn&&a!==yn)return t;var n=new Map,o=Pt(t),s=J(0);o&&n.set("length",J(t.length));var f;return new Proxy(t,{defineProperty(d,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&An();var p=n.get(l);return p===void 0?(p=J(c.value),n.set(l,p)):g(p,qt(c.value,f)),!0},deleteProperty(d,l){var c=n.get(l);if(c===void 0)l in d&&n.set(l,J(V));else{if(o&&typeof l=="string"){var p=n.get("length"),u=Number(l);Number.isInteger(u)&&u<p.v&&g(p,u)}g(c,V),zr(s)}return!0},get(d,l,c){var h;if(l===mt)return t;var p=n.get(l),u=l in d;if(p===void 0&&(!u||(h=Ot(d,l))!=null&&h.writable)&&(p=J(qt(u?d[l]:V,f)),n.set(l,p)),p!==void 0){var v=y(p);return v===V?void 0:v}return Reflect.get(d,l,c)},getOwnPropertyDescriptor(d,l){var c=Reflect.getOwnPropertyDescriptor(d,l);if(c&&"value"in c){var p=n.get(l);p&&(c.value=y(p))}else if(c===void 0){var u=n.get(l),v=u==null?void 0:u.v;if(u!==void 0&&v!==V)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return c},has(d,l){var v;if(l===mt)return!0;var c=n.get(l),p=c!==void 0&&c.v!==V||Reflect.has(d,l);if(c!==void 0||z!==null&&(!p||(v=Ot(d,l))!=null&&v.writable)){c===void 0&&(c=J(p?qt(d[l],f):V),n.set(l,c));var u=y(c);if(u===V)return!1}return p},set(d,l,c,p){var I;var u=n.get(l),v=l in d;if(o&&l==="length")for(var h=c;h<u.v;h+=1){var b=n.get(h+"");b!==void 0?g(b,V):h in d&&(b=J(V),n.set(h+"",b))}u===void 0?(!v||(I=Ot(d,l))!=null&&I.writable)&&(u=J(void 0),g(u,qt(c,f)),n.set(l,u)):(v=u.v!==V,g(u,qt(c,f)));var w=Reflect.getOwnPropertyDescriptor(d,l);if(w!=null&&w.set&&w.set.call(p,c),!v){if(o&&typeof l=="string"){var j=n.get("length"),S=Number(l);Number.isInteger(S)&&S>=j.v&&g(j,S+1)}zr(s)}return!0},ownKeys(d){y(s);var l=Reflect.ownKeys(d).filter(u=>{var v=n.get(u);return v===void 0||v.v!==V});for(var[c,p]of n)p.v!==V&&!(c in d)&&l.push(c);return l},setPrototypeOf(){In()}})}function zr(t,e=1){g(t,t.v+e)}function Er(t){return t!==null&&typeof t=="object"&&mt in t?t[mt]:t}function Un(t,e){return Object.is(Er(t),Er(e))}var Pr,Cr,jr;function Gn(){if(Pr===void 0){Pr=window;var t=Element.prototype,e=Node.prototype;Cr=Ot(e,"firstChild").get,jr=Ot(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Pe(t=""){return document.createTextNode(t)}function ee(t){return Cr.call(t)}function Ce(t){return jr.call(t)}function i(t,e){return ee(t)}function re(t,e){{var r=ee(t);return r instanceof Comment&&r.data===""?Ce(r):r}}function _(t,e=1,r=!1){let a=t;for(;e--;)a=Ce(a);return a}function Hn(t){t.textContent=""}function ne(t){var e=Y|ht;z===null?e|=Ct:z.f|=mr;var r=A!==null&&A.f&Y?A:null;const a={children:null,ctx:T,deps:null,equals:gr,f:e,fn:t,reactions:null,v:null,version:0,parent:r??z};return r!==null&&(r.children??(r.children=[])).push(a),a}function Vn(t){const e=ne(t);return e.equals=Ve,e}function Ar(t){var e=t.children;if(e!==null){t.children=null;for(var r=0;r<e.length;r+=1){var a=e[r];a.f&Y?Je(a):gt(a)}}}function Zn(t){for(var e=t.parent;e!==null;){if(!(e.f&Y))return e;e=e.parent}return null}function Ir(t){var e,r=z;st(Zn(t));try{Ar(t),e=Gr(t)}finally{st(r)}return e}function Tr(t){var e=Ir(t),r=(Rt||t.f&Ct)&&t.deps!==null?Dt:L;et(t,r),t.equals(e)||(t.v=e,t.version=Ur())}function Je(t){Ar(t),ie(t,0),et(t,te),t.v=t.children=t.deps=t.ctx=t.reactions=null}function Sr(t){z===null&&A===null&&Pn(),A!==null&&A.f&Ct&&En(),nr&&zn()}function Kn(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Mt(t,e,r,a=!0){var n=(t&Xt)!==0,o=z,s={ctx:T,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|ht,first:null,fn:e,last:null,next:null,parent:n?null:o,prev:null,teardown:null,transitions:null,version:0};if(r){var f=$t;try{Br(!0),se(s),s.f|=wn}catch(c){throw gt(s),c}finally{Br(f)}}else e!==null&&Ne(s);var d=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&mr)===0;if(!d&&!n&&a&&(o!==null&&Kn(s,o),A!==null&&A.f&Y)){var l=A;(l.children??(l.children=[])).push(s)}return s}function Or(t){const e=Mt(Qt,null,!1);return et(e,L),e.teardown=t,e}function Qe(t){Sr();var e=z!==null&&(z.f&tt)!==0&&T!==null&&!T.m;if(e){var r=T;(r.e??(r.e=[])).push({fn:t,effect:z,reaction:A})}else{var a=je(t);return a}}function Yn(t){return Sr(),Ie(t)}function Jn(t){const e=Mt(Xt,t,!0);return()=>{gt(e)}}function je(t){return Mt(vr,t,!1)}function Ae(t,e){var r=T,a={effect:null,ran:!1};r.l.r1.push(a),a.effect=Ie(()=>{t(),!a.ran&&(a.ran=!0,g(r.l.r2,!0),kt(e))})}function Xe(){var t=T;Ie(()=>{if(y(t.l.r2)){for(var e of t.l.r1){var r=e.effect;r.f&L&&et(r,Dt),Lt(r)&&se(r),e.ran=!1}t.l.r2.v=!1}})}function Ie(t){return Mt(Qt,t,!0)}function x(t){return ae(t)}function ae(t,e=0){return Mt(Qt|He|e,t,!0)}function jt(t,e=!0){return Mt(Qt|tt,t,!0,e)}function Dr(t){var e=t.teardown;if(e!==null){const r=nr,a=A;Wr(!0),yt(null);try{e.call(null)}finally{Wr(r),yt(a)}}}function Nr(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var r=0;r<e.length;r+=1)Je(e[r])}}function qr(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var a=r.next;gt(r,e),r=a}}function Qn(t){for(var e=t.first;e!==null;){var r=e.next;e.f&tt||gt(e),e=r}}function gt(t,e=!0){var r=!1;if((e||t.f&kn)&&t.nodes_start!==null){for(var a=t.nodes_start,n=t.nodes_end;a!==null;){var o=a===n?null:Ce(a);a.remove(),a=o}r=!0}qr(t,e&&!r),Nr(t),ie(t,0),et(t,te);var s=t.transitions;if(s!==null)for(const d of s)d.stop();Dr(t);var f=t.parent;f!==null&&f.first!==null&&Mr(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes_start=t.nodes_end=null}function Mr(t){var e=t.parent,r=t.prev,a=t.next;r!==null&&(r.next=a),a!==null&&(a.prev=r),e!==null&&(e.first===t&&(e.first=a),e.last===t&&(e.last=r))}function Te(t,e){var r=[];tr(t,r,!0),$r(r,()=>{gt(t),e&&e()})}function $r(t,e){var r=t.length;if(r>0){var a=()=>--r||e();for(var n of t)n.out(a)}else e()}function tr(t,e,r){if(!(t.f&ot)){if(t.f^=ot,t.transitions!==null)for(const s of t.transitions)(s.is_global||r)&&e.push(s);for(var a=t.first;a!==null;){var n=a.next,o=(a.f&ze)!==0||(a.f&tt)!==0;tr(a,e,o?r:!1),a=n}}}function Se(t){Rr(t,!0)}function Rr(t,e){if(t.f&ot){Lt(t)&&se(t),t.f^=ot;for(var r=t.first;r!==null;){var a=r.next,n=(r.f&ze)!==0||(r.f&tt)!==0;Rr(r,n?e:!1),r=a}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}let er=!1,rr=[];function Xn(){er=!1;const t=rr.slice();rr=[],ke(t)}function Lr(t){er||(er=!0,queueMicrotask(Xn)),rr.push(t)}function ta(t){throw new Error("lifecycle_outside_component")}let Oe=!1,$t=!1,nr=!1;function Br(t){$t=t}function Wr(t){nr=t}let ar=[],oe=0,bo=[],A=null;function yt(t){A=t}let z=null;function st(t){z=t}let lt=null;function ea(t){lt=t}let R=null,Z=0,bt=null;function ra(t){bt=t}let Fr=0,Rt=!1,wt=null,T=null;function Ur(){return++Fr}function De(){return!Nt||T!==null&&T.l===null}function Lt(t){var s,f;var e=t.f;if(e&ht)return!0;if(e&Dt){var r=t.deps,a=(e&Ct)!==0;if(r!==null){var n;if(e&xe){for(n=0;n<r.length;n++)((s=r[n]).reactions??(s.reactions=[])).push(t);t.f^=xe}for(n=0;n<r.length;n++){var o=r[n];if(Lt(o)&&Tr(o),a&&z!==null&&!Rt&&!((f=o==null?void 0:o.reactions)!=null&&f.includes(t))&&(o.reactions??(o.reactions=[])).push(t),o.version>t.version)return!0}}a||et(t,L)}return!1}function na(t,e,r){throw t}function Gr(t){var u;var e=R,r=Z,a=bt,n=A,o=Rt,s=lt,f=T,d=t.f;R=null,Z=0,bt=null,A=d&(tt|Xt)?null:t,Rt=!$t&&(d&Ct)!==0,lt=null,T=t.ctx;try{var l=(0,t.fn)(),c=t.deps;if(R!==null){var p;if(ie(t,Z),c!==null&&Z>0)for(c.length=Z+R.length,p=0;p<R.length;p++)c[Z+p]=R[p];else t.deps=c=R;if(!Rt)for(p=Z;p<c.length;p++)((u=c[p]).reactions??(u.reactions=[])).push(t)}else c!==null&&Z<c.length&&(ie(t,Z),c.length=Z);return l}finally{R=e,Z=r,bt=a,A=n,Rt=o,lt=s,T=f}}function aa(t,e){let r=e.reactions;if(r!==null){var a=r.indexOf(t);if(a!==-1){var n=r.length-1;n===0?r=e.reactions=null:(r[a]=r[n],r.pop())}}r===null&&e.f&Y&&(R===null||!R.includes(e))&&(et(e,Dt),e.f&(Ct|xe)||(e.f^=xe),ie(e,0))}function ie(t,e){var r=t.deps;if(r!==null)for(var a=e;a<r.length;a++)aa(t,r[a])}function se(t){var e=t.f;if(!(e&te)){et(t,L);var r=z;z=t;try{e&He?Qn(t):qr(t),Nr(t),Dr(t);var a=Gr(t);t.teardown=typeof a=="function"?a:null,t.version=Fr}catch(n){na(n)}finally{z=r}}}function oa(){oe>1e3&&(oe=0,Cn()),oe++}function ia(t){var e=t.length;if(e!==0){oa();var r=$t;$t=!0;try{for(var a=0;a<e;a++){var n=t[a];n.f&L||(n.f^=L);var o=[];Hr(n,o),sa(o)}}finally{$t=r}}}function sa(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var a=t[r];!(a.f&(te|ot))&&Lt(a)&&(se(a),a.deps===null&&a.first===null&&a.nodes_start===null&&(a.teardown===null?Mr(a):a.fn=null))}}function la(){if(Oe=!1,oe>1001)return;const t=ar;ar=[],ia(t),Oe||(oe=0)}function Ne(t){Oe||(Oe=!0,queueMicrotask(la));for(var e=t;e.parent!==null;){e=e.parent;var r=e.f;if(r&(Xt|tt)){if(!(r&L))return;e.f^=L}}ar.push(e)}function Hr(t,e){var r=t.first,a=[];t:for(;r!==null;){var n=r.f,o=(n&tt)!==0,s=o&&(n&L)!==0;if(!s&&!(n&ot))if(n&Qt){o?r.f^=L:Lt(r)&&se(r);var f=r.first;if(f!==null){r=f;continue}}else n&vr&&a.push(r);var d=r.next;if(d===null){let p=r.parent;for(;p!==null;){if(t===p)break t;var l=p.next;if(l!==null){r=l;continue t}p=p.parent}}r=d}for(var c=0;c<a.length;c++)f=a[c],e.push(f),Hr(f,e)}function y(t){var c;var e=t.f,r=(e&Y)!==0;if(r&&e&te){var a=Ir(t);return Je(t),a}if(wt!==null&&wt.add(t),A!==null){lt!==null&&lt.includes(t)&&Tn();var n=A.deps;R===null&&n!==null&&n[Z]===t?Z++:R===null?R=[t]:R.push(t),bt!==null&&z!==null&&z.f&L&&!(z.f&tt)&&bt.includes(t)&&(et(z,ht),Ne(z))}else if(r&&t.deps===null)for(var o=t,s=o.parent,f=o;s!==null;)if(s.f&Y){var d=s;f=d,s=d.parent}else{var l=s;(c=l.deriveds)!=null&&c.includes(f)||(l.deriveds??(l.deriveds=[])).push(f);break}return r&&(o=t,Lt(o)&&Tr(o)),t.v}function qe(t){var e=wt;wt=new Set;var r=wt,a;try{if(kt(t),e!==null)for(a of wt)e.add(a)}finally{wt=e}for(a of r)if(a.f&hr)for(const n of a.deps||[])n.f&Y||br(n,null);else br(a,null)}function kt(t){const e=A;try{return A=null,t()}finally{A=e}}const ua=~(ht|Dt|L);function et(t,e){t.f=t.f&ua|e}function Bt(t,e=!1,r){T={p:T,c:null,e:null,m:!1,s:t,x:null,l:null},Nt&&!e&&(T.l={s:null,u:null,r1:[],r2:J(!1)})}function Wt(t){const e=T;if(e!==null){const s=e.e;if(s!==null){var r=z,a=A;e.e=null;try{for(var n=0;n<s.length;n++){var o=s[n];st(o.effect),yt(o.reaction),je(o.fn)}}finally{st(r),yt(a)}}T=e.p,e.m=!0}return{}}function le(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(mt in t)or(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&mt in r&&or(r)}}}function or(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let a in t)try{or(t[a],e)}catch{}const r=_r(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const a=mn(r);for(let n in a){const o=a[n].get;if(o)try{o.call(t)}catch{}}}}}let Vr=!1;function ca(){Vr||(Vr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function Zr(t){var e=A,r=z;yt(null),st(null);try{return t()}finally{yt(e),st(r)}}function Kr(t,e,r,a=r){t.addEventListener(e,()=>Zr(r));const n=t.__on_r;n?t.__on_r=()=>{n(),a()}:t.__on_r=a,ca()}const fa=new Set,Yr=new Set;function da(t,e,r,a){function n(o){if(a.capture||ue.call(e,o),!o.cancelBubble)return Zr(()=>r.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Lr(()=>{e.addEventListener(t,n,a)}):e.addEventListener(t,n,a),n}function ft(t,e,r,a,n){var o={capture:a,passive:n},s=da(t,e,r,o);(e===document.body||e===window||e===document)&&Or(()=>{e.removeEventListener(t,s,o)})}function ue(t){var S;var e=this,r=e.ownerDocument,a=t.type,n=((S=t.composedPath)==null?void 0:S.call(t))||[],o=n[0]||t.target,s=0,f=t.__root;if(f){var d=n.indexOf(f);if(d!==-1&&(e===document||e===window)){t.__root=e;return}var l=n.indexOf(e);if(l===-1)return;d<=l&&(s=d)}if(o=n[s]||t.target,o!==e){hn(t,"currentTarget",{configurable:!0,get(){return o||r}});var c=A,p=z;yt(null),st(null);try{for(var u,v=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var b=o["__"+a];if(b!==void 0&&!o.disabled)if(Pt(b)){var[w,...j]=b;w.apply(o,[t,...j])}else b.call(o,t)}catch(I){u?v.push(I):u=I}if(t.cancelBubble||h===e||h===null)break;o=h}if(u){for(let I of v)queueMicrotask(()=>{throw I});throw u}}finally{t.__root=e,delete t.currentTarget,yt(c),st(p)}}}function Jr(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function ce(t,e){var r=z;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function K(t,e){var r=(e&Wn)!==0,a=(e&Fn)!==0,n,o=!t.startsWith("<!>");return()=>{n===void 0&&(n=Jr(o?t:"<!>"+t),r||(n=ee(n)));var s=a?document.importNode(n,!0):n.cloneNode(!0);if(r){var f=ee(s),d=s.lastChild;ce(f,d)}else ce(s,s);return s}}function Ft(t=""){{var e=Pe(t+"");return ce(e,e),e}}function pa(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Pe();return t.append(e,r),ce(e,r),t}function q(t,e){t!==null&&t.before(e)}const _a=["touchstart","touchmove"];function va(t){return _a.includes(t)}function C(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r==null?"":r+"")}function ha(t,e){return ma(t,e)}const Ut=new Map;function ma(t,{target:e,anchor:r,props:a={},events:n,context:o,intro:s=!0}){Gn();var f=new Set,d=p=>{for(var u=0;u<p.length;u++){var v=p[u];if(!f.has(v)){f.add(v);var h=va(v);e.addEventListener(v,ue,{passive:h});var b=Ut.get(v);b===void 0?(document.addEventListener(v,ue,{passive:h}),Ut.set(v,1)):Ut.set(v,b+1)}}};d(Ge(fa)),Yr.add(d);var l=void 0,c=Jn(()=>{var p=r??e.appendChild(Pe());return jt(()=>{if(o){Bt({});var u=T;u.c=o}n&&(a.$$events=n),l=t(p,a)||{},o&&Wt()}),()=>{var h;for(var u of f){e.removeEventListener(u,ue);var v=Ut.get(u);--v===0?(document.removeEventListener(u,ue),Ut.delete(u)):Ut.set(u,v)}Yr.delete(d),Qr.delete(l),p!==r&&((h=p.parentNode)==null||h.removeChild(p))}});return Qr.set(l,c),l}let Qr=new WeakMap;function dt(t,e,r,a=null,n=!1){var o=t,s=null,f=null,d=null,l=n?ze:0;ae(()=>{d!==(d=!!e())&&(d?(s?Se(s):s=jt(()=>r(o)),f&&Te(f,()=>{f=null})):(f?Se(f):a&&(f=jt(()=>a(o))),s&&Te(s,()=>{s=null})))},l)}function Xr(t,e){return e}function ga(t,e,r,a){for(var n=[],o=e.length,s=0;s<o;s++)tr(e[s].e,n,!0);var f=o>0&&n.length===0&&r!==null;if(f){var d=r.parentNode;Hn(d),d.append(r),a.clear(),xt(t,e[0].prev,e[o-1].next)}$r(n,()=>{for(var l=0;l<o;l++){var c=e[l];f||(a.delete(c.k),xt(t,c.prev,c.next)),gt(c.e,!f)}})}function tn(t,e,r,a,n,o=null){var s=t,f={flags:e,items:new Map,first:null},d=(e&kr)!==0;if(d){var l=t;s=l.appendChild(Pe())}var c=null,p=!1;ae(()=>{var u=r(),v=Pt(u)?u:u==null?[]:Ge(u),h=v.length;if(!(p&&h===0)){p=h===0;{var b=A;ya(v,f,s,n,e,(b.f&ot)!==0,a)}o!==null&&(h===0?c?Se(c):c=jt(()=>o(s)):c!==null&&Te(c,()=>{c=null})),r()}})}function ya(t,e,r,a,n,o,s){var zt,ut,pt,ct;var f=(n&Nn)!==0,d=(n&(Ke|Ye))!==0,l=t.length,c=e.items,p=e.first,u=p,v,h=null,b,w=[],j=[],S,I,k,P;if(f)for(P=0;P<l;P+=1)S=t[P],I=s(S,P),k=c.get(I),k!==void 0&&((zt=k.a)==null||zt.measure(),(b??(b=new Set)).add(k));for(P=0;P<l;P+=1){if(S=t[P],I=s(S,P),k=c.get(I),k===void 0){var H=u?u.e.nodes_start:r;h=wa(H,e,h,h===null?e.first:h.next,S,I,P,a,n),c.set(I,h),w=[],j=[],u=h.next;continue}if(d&&ba(k,S,P,n),k.e.f&ot&&(Se(k.e),f&&((ut=k.a)==null||ut.unfix(),(b??(b=new Set)).delete(k))),k!==u){if(v!==void 0&&v.has(k)){if(w.length<j.length){var B=j[0],E;h=B.prev;var W=w[0],F=w[w.length-1];for(E=0;E<w.length;E+=1)en(w[E],B,r);for(E=0;E<j.length;E+=1)v.delete(j[E]);xt(e,W.prev,F.next),xt(e,h,W),xt(e,F,B),u=B,h=F,P-=1,w=[],j=[]}else v.delete(k),en(k,u,r),xt(e,k.prev,k.next),xt(e,k,h===null?e.first:h.next),xt(e,h,k),h=k;continue}for(w=[],j=[];u!==null&&u.k!==I;)(o||!(u.e.f&ot))&&(v??(v=new Set)).add(u),j.push(u),u=u.next;if(u===null)continue;k=u}w.push(k),h=k,u=k.next}if(u!==null||v!==void 0){for(var U=v===void 0?[]:Ge(v);u!==null;)(o||!(u.e.f&ot))&&U.push(u),u=u.next;var rt=U.length;if(rt>0){var nt=n&kr&&l===0?r:null;if(f){for(P=0;P<rt;P+=1)(pt=U[P].a)==null||pt.measure();for(P=0;P<rt;P+=1)(ct=U[P].a)==null||ct.fix()}ga(e,U,nt,c)}}f&&Lr(()=>{var Q;if(b!==void 0)for(k of b)(Q=k.a)==null||Q.apply()}),z.first=e.first&&e.first.e,z.last=h&&h.e}function ba(t,e,r,a){a&Ke&&Ze(t.v,e),a&Ye?Ze(t.i,r):t.i=r}function wa(t,e,r,a,n,o,s,f,d){var l=(d&Ke)!==0,c=(d&qn)===0,p=l?c?Ee(n):J(n):n,u=d&Ye?J(s):s,v={i:u,v:p,k:o,a:null,e:null,prev:r,next:a};try{return v.e=jt(()=>f(t,p,u),xr),v.e.prev=r&&r.e,v.e.next=a&&a.e,r===null?e.first=v:(r.next=v,r.e.next=v.e),a!==null&&(a.prev=v,a.e.prev=v.e),v}finally{}}function en(t,e,r){for(var a=t.next?t.next.e.nodes_start:r,n=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==a;){var s=Ce(o);n.before(o),o=s}}function xt(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function ka(t,e,r,a,n){var o=t,s="",f;ae(()=>{s!==(s=e()??"")&&(f!==void 0&&(gt(f),f=void 0),s!==""&&(f=jt(()=>{var d=s+"",l=Jr(d);ce(ee(l),l.lastChild),o.before(l)})))})}function xa(t,e,r){var a=t,n,o;ae(()=>{n!==(n=e())&&(o&&(Te(o),o=null),n&&(o=jt(()=>r(a,n))))},ze)}function za(t,e){var r=t.__attributes??(t.__attributes={});r.value===(r.value=e)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e)}function fe(t,e){var r=t.__className,a=Ea(e);(r!==a||xr)&&(e==null?t.removeAttribute("class"):t.className=a,t.__className=a)}function Ea(t){return t??""}function Pa(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function O(t,e,r=e){var a=De();Kr(t,"input",()=>{var n=rn(t)?nn(t.value):t.value;r(n),a&&n!==(n=e())&&(t.value=n??"")}),Ie(()=>{var n=e();rn(t)&&n===nn(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}function rn(t){var e=t.type;return e==="number"||e==="range"}function nn(t){return t===""?null:+t}function an(t,e,r){if(t.multiple)return ja(t,e);for(var a of t.options){var n=de(a);if(Un(n,e)){a.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Ca(t,e){je(()=>{var r=new MutationObserver(()=>{var a=t.__value;an(t,a)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Me(t,e,r=e){var a=!0;Kr(t,"change",()=>{var n;if(t.multiple)n=[].map.call(t.querySelectorAll(":checked"),de);else{var o=t.querySelector(":checked");n=o&&de(o)}r(n)}),je(()=>{var n=e();if(an(t,n,a),a&&n===void 0){var o=t.querySelector(":checked");o!==null&&(n=de(o),r(n))}t.__value=n,a=!1}),Ca(t)}function ja(t,e){for(var r of t.options)r.selected=~e.indexOf(de(r))}function de(t){return"__value"in t?t.__value:t.value}function pe(t=!1){const e=T,r=e.l.u;if(!r)return;let a=()=>le(e.s);if(t){let n=0,o={};const s=ne(()=>{let f=!1;const d=e.s;for(const l in d)d[l]!==o[l]&&(o[l]=d[l],f=!0);return f&&n++,n});a=()=>y(s)}r.b.length&&Yn(()=>{on(e,a),ke(r.b)}),Qe(()=>{const n=kt(()=>r.m.map(bn));return()=>{for(const o of n)typeof o=="function"&&o()}}),r.a.length&&Qe(()=>{on(e,a),ke(r.a)})}function on(t,e){if(t.l.s)for(const r of t.l.s)y(r);e()}function sn(t,e,r){if(t==null)return e(void 0),r&&r(void 0),vt;const a=kt(()=>t.subscribe(e,r));return a.unsubscribe?()=>a.unsubscribe():a}let $e=!1;function Gt(t,e,r){const a=r[e]??(r[e]={store:null,source:Ee(void 0),unsubscribe:vt});if(a.store!==t)if(a.unsubscribe(),a.store=t??null,t==null)a.source.v=void 0,a.unsubscribe=vt;else{var n=!0;a.unsubscribe=sn(t,o=>{n?a.source.v=o:g(a.source,o)}),n=!1}return y(a.source)}function Aa(t,e){return t.set(e),e}function _e(){const t={};return Or(()=>{for(var e in t)t[e].unsubscribe()}),t}function Ia(t){var e=$e;try{return $e=!1,[t(),$e]}finally{$e=e}}function ln(t){for(var e=z,r=z;e!==null&&!(e.f&(tt|Xt));)e=e.parent;try{return st(e),t()}finally{st(r)}}function Ht(t,e,r,a){var B;var n=(r&Mn)!==0,o=!Nt||(r&$n)!==0,s=(r&Ln)!==0,f=(r&Bn)!==0,d=!1,l;s?[l,d]=Ia(()=>t[e]):l=t[e];var c=mt in t||xn in t,p=((B=Ot(t,e))==null?void 0:B.set)??(c&&s&&e in t?E=>t[e]=E:void 0),u=a,v=!0,h=!1,b=()=>(h=!0,v&&(v=!1,f?u=kt(a):u=a),u);l===void 0&&a!==void 0&&(p&&o&&jn(),l=b(),p&&p(l));var w;if(o)w=()=>{var E=t[e];return E===void 0?b():(v=!0,h=!1,E)};else{var j=ln(()=>(n?ne:Vn)(()=>t[e]));j.f|=hr,w=()=>{var E=y(j);return E!==void 0&&(u=void 0),E===void 0?u:E}}if(!(r&Rn))return w;if(p){var S=t.$$legacy;return function(E,W){return arguments.length>0?((!o||!W||S||d)&&p(W?w():E),E):w()}}var I=!1,k=!1,P=Ee(l),H=ln(()=>ne(()=>{var E=w(),W=y(P);return I?(I=!1,k=!0,W):(k=!1,P.v=E)}));return n||(H.equals=Ve),function(E,W){if(wt!==null&&(I=k,w(),y(P)),arguments.length>0){const F=W?y(H):o&&s?qt(E):E;return H.equals(F)||(I=!0,g(P,F),h&&u!==void 0&&(u=F),kt(()=>y(H))),E}return y(H)}}function Ta(t){T===null&&ta(),Nt&&T.l!==null?Sa(T).m.push(t):Qe(()=>{const e=kt(t);if(typeof e=="function")return e})}function Sa(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Oa="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Oa),On();const Vt=[];function Da(t,e){return{subscribe:un(t,e).subscribe}}function un(t,e=vt){let r=null;const a=new Set;function n(f){if(yr(t,f)&&(t=f,r)){const d=!Vt.length;for(const l of a)l[1](),Vt.push(l,t);if(d){for(let l=0;l<Vt.length;l+=2)Vt[l][0](Vt[l+1]);Vt.length=0}}}function o(f){n(f(t))}function s(f,d=vt){const l=[f,d];return a.add(l),a.size===1&&(r=e(n,o)||vt),f(t),()=>{a.delete(l),a.size===0&&r&&(r(),r=null)}}return{set:n,update:o,subscribe:s}}function Na(t,e,r){const a=!Array.isArray(t),n=a?[t]:t;if(!n.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return Da(r,(s,f)=>{let d=!1;const l=[];let c=0,p=vt;const u=()=>{if(c)return;p();const h=e(a?l[0]:l,s,f);o?s(h):p=typeof h=="function"?h:vt},v=n.map((h,b)=>sn(h,w=>{l[b]=w,c&=~(1<<b),d&&u()},()=>{c|=1<<b}));return d=!0,u(),function(){ke(v),p(),d=!1}})}const qa={en:{"msg.settings_saved":"Settings have been saved","msg.network_error":"Network error","msg.server_error":"Server error","msg.embedding_done":"The embedding has been done successfully!","msg.no_new_embed":"No new descriptions to embed","msg.hide_message":"Hide message.","button.save":"Save settings","button.save_process":"Saving Settings...","apimodel.label":"API/Model","apimodel.title":"API Settings","apimodel.api_key":"ChatGPT API Key","apimodel.model_selection":"ChatGPT model selection","apimodel.embed_product":"Embed product descriptions","apimodel.btn_embed_product":"Run embedding product descriptions","apimodel.description":'<p>This plugin requires an API key from OpenAI to function. You can obtain the API key by registering at <a href="https://platform.openai.com/account/api-keys" target="_blank">https://platform.openai.com/account/api-keys</a>.</p>       <p>For more information about ChatGPT models and their capabilities, visit <a href="https://platform.openai.com/docs/models/overview" taget="_blank">https://platform.openai.com/docs/models/overview</a>.</p>       <p>Enter your ChatGPT API key below and select the OpenAI model.</p>',"settings.label":"Settings","settings.title":"Bot Settings","settings.description":"Configure the bot's settings, including name, initial status, greeting and system prompt.","settings.title_widget":"Bot Name","settings.start_status":"Startup Status","settings.open":"Open","settings.close":"Close","settings.on":"On","settings.off":"Off","settings.attaching_image_files":"Attaching image files","settings.initial_welcome":"Initial Welcome","settings.system_prompt":"System Prompt","appearance.label":"Appearance","appearance.color_settings":"Color Settings","appearance.widget_settings":"Widget Settings","appearance.toggler_button_settings":"Toggler button settings","supports.label":"Supports","supports.title":"Supports"},pl:{"msg.settings_saved":"Ustawienia zostały zapisane","msg.network_error":"Błąd sieciowy","msg.server_error":"Błąd serwera","msg.hide_message":"Ukryj komunikat.","msg.embedding_done":"Osadzanie zostało pomyślnie wykonane!","msg.no_new_embed":"Nie ma nowych opisów do osadzenia!","button.save":"Zapisz ustawienia","button.save_process":"Zapisywanie ustawień...","apimodel.label":"API/Model","apimodel.title":"Ustawienia API","apimodel.api_key":"ChatGPT API Key","apimodel.model_selection":"Wybór modelu ChatGPT","apimodel.embed_product":"Osadź opisy produktów","apimodel.btn_embed_product":"Uruchom osadzanie opisów produktów","apimodel.description":'<p>Ta wtyczka wymaga klucza API od OpenAI do działania. Klucz API można uzyskać, rejestrując się na stronie <a href="https://platform.openai.com/account/api-keys" target="_blank">https://platform.openai.com/account/api-keys</a>.</p>       <p>Więcej informacji o modelach ChatGPT i ich możliwościach można znaleźć na stronie  <a href="https://platform.openai.com/docs/models/overview" taget="_blank">https://platform.openai.com/docs/models/overview</a>.</p>       <p>Wprowadź swój klucz API ChatGPT poniżej i wybierz model OpenAI.</p>',"settings.label":"Ustawienia","settings.title":"Ustawienia Bota","settings.description":"Skonfiguruj ustawienia bota, w tym nazwę, status początkowy, powitanie i prompt systemowy.","settings.title_widget":"Nazwa Bota","settings.start_status":"Status Startowy","settings.open":"Otwarty","settings.close":"Zamknięty","settings.on":"Włączone","settings.off":"Wyłączone","settings.attaching_image_files":"Załączanie plików graficznych","settings.initial_welcome":"Powitanie Początkowe","settings.system_prompt":"Prompt Systemowy","appearance.label":"Wygląd","appearance.color_settings":"Ustawienia Kolorów","appearance.widget_settings":"Ustawienia Widżetu","appearance.toggler_button_settings":"Ustawienia przycisku Toggler","supports.label":"Wsparcie","supports.title":"Wsparcie"}},ir=un("en");function Ma(t,e,r){if(!e)throw new Error("no key provided to $t()");if(!t)throw new Error(`no translation for key "${e}"`);let a=qa[t][e];if(!a)throw new Error(`no translation found for ${t}.${e}`);return Object.keys(r).map(n=>{const o=new RegExp(`{{${n}}}`,"g");a=a.replace(o,r[n])}),a}const ve=Na(ir,t=>(e,r={})=>Ma(t,e,r));var $a=K('<div><p><strong> </strong></p> <button type="button" class="notice-dismiss"><span class="screen-reader-text"> </span></button></div>'),Ra=K('<h1> </h1> <div><form method="post"><!> <table class="form-table" role="presentation"><tbody><tr><th scope="row">ChatGPT API Key</th><td><input type="password" name="api_key" class="regular-text"></td></tr><tr><th scope="row"> </th><td><select name="model_choice"><option>gpt-4o</option><option>gpt-4o-mini</option></select></td></tr></tbody></table> <p class="submit"><button type="submit" name="submit" class="button button-primary"><!></button></p></form></div> <div style="border-top: 1px solid #bfbfbf;"><h1> </h1> <p><button class="button-primary chat-button-spinner"> </button></p></div> <!>',1);function La(t,e){Bt(e,!1);const r=_e(),a=()=>Gt(ve,"$t",r);let n=Ht(e,"initData",12),o=it(""),s=it(!1),f=it(!1),d=it(!1),l={api_key:"",model_choice:"gpt-4o-mini"};async function c(M){M.preventDefault(),g(o,""),g(f,!0),g(s,!1);const N={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update",data:n(),security:n().nonce})};try{const G=await fetch(`${window.ajaxurl}?action=update`,N);if(!G.ok)throw new Error("msg.network_error");if(!(await G.json()).success)throw new Error(a()("msg.network_error"));g(o,a()("msg.settings_saved"))}catch(G){g(s,!0),g(o,G.message)}g(f,!1)}async function p(){g(d,!0);const M=new FormData;M.append("action","run_embedding"),M.append("security",n().nonce),g(s,!1);try{const N=await fetch(window.ajaxurl,{method:"POST",body:M});if(!N.ok)throw new Error(a()("msg.network_error"));let G=await N.json();if(!G.success)throw new Error(a()("msg.server_error"));g(o,a()(`msg.${G.data.message}`))}catch(N){g(s,!0),g(o,N.message)}g(d,!1)}Ae(()=>le(n()),()=>{n(n()&&typeof n()=="object"&&Object.keys(n()).length>0?n():l)}),Xe(),pe();var u=Ra(),v=re(u),h=i(v);x(()=>C(h,a()("apimodel.title")));var b=_(v,2),w=i(b),j=i(w);ka(j,()=>a()("apimodel.description"));var S=_(j,2),I=i(S),k=i(I),P=_(i(k)),H=i(P),B=_(k),E=i(B),W=i(E);x(()=>C(W,a()("apimodel.model_selection")));var F=_(E),U=i(F);x(()=>{n().model_choice,qe(()=>{})});var rt=i(U);rt.value=(rt.__value="gpt-4o")==null?"":"gpt-4o";var nt=_(rt);nt.value=(nt.__value="gpt-4o-mini")==null?"":"gpt-4o-mini";var zt=_(S,2),ut=i(zt),pt=i(ut);dt(pt,()=>y(f),M=>{var N=Ft();x(()=>C(N,a()("button.save_process"))),q(M,N)},M=>{var N=Ft();x(()=>C(N,a()("button.save"))),q(M,N)});var ct=_(b,2),Q=i(ct),Zt=i(Q);x(()=>C(Zt,a()("apimodel.embed_product")));var At=_(Q,2),It=i(At),Tt=i(It);x(()=>C(Tt,a()("apimodel.btn_embed_product")));var Kt=_(ct,2);dt(Kt,()=>y(o),M=>{var N=$a(),G=i(N),_t=i(G),he=i(_t),Et=_(G,2),me=i(Et),St=i(me);x(()=>C(St,a()("msg.hide_message"))),x(()=>{fe(N,`${(y(s)?"notice-error":"notice-success")??""} notice is-dismissible`),C(he,y(o))}),ft("click",Et,()=>g(o,"")),q(M,N)}),x(()=>{ut.disabled=y(f),Pa(It,"loading",y(d))}),O(H,()=>n().api_key,M=>n(n().api_key=M,!0)),Me(U,()=>n().model_choice,M=>n(n().model_choice=M,!0)),ft("submit",w,c),ft("click",It,p),q(t,u),Wt()}var Ba=K('<div><p><strong> </strong></p> <button type="button" class="notice-dismiss"><span class="screen-reader-text">Ukryj komunikat.</span></button></div>'),Wa=K('<div><p><strong> </strong></p> <button type="button" class="notice-dismiss"><span class="screen-reader-text">Ukryj komunikat.</span></button></div>'),Fa=K('<!> <h1> </h1> <form method="post"><p>Skonfiguruj ustawienia bota, w tym nazwę, status początkowy, powitanie i prompt systemowy.</p> <table class="form-table" role="presentation"><tbody><tr><th scope="row"> </th><td><input type="text" name="title" class="regular-text"></td></tr><tr><th scope="row"> </th><td><select name="start_status"><option> </option><option> </option></select></td></tr><tr><th scope="row">Emoji</th><td><select name="emoji"><option> </option><option> </option></select></td></tr><tr><th scope="row"> </th><td><select name="image_upload"><option> </option><option> </option></select></td></tr><tr><th scope="row"> </th><td><textarea name="initial_greeting" rows="3" cols="70"></textarea></td></tr><tr><th scope="row"> </th><td><textarea name="prompt_system" rows="10" cols="70"></textarea></td></tr></tbody></table> <p class="submit"><button type="submit" name="submit" class="button button-primary"><!></button></p></form> <!>',1);function Ua(t,e){Bt(e,!1);const r=_e(),a=()=>Gt(ve,"$t",r);let n=Ht(e,"initData",12),o=it(""),s=it(!1),f=it(!1),d={title:"ChatBot",start_status:"closed",emoji:"1",image_upload:"1",initial_greeting:"Hello👋 <br> What can I help you with today?",prompt_system:"You are an assistant to an online store selling products."};async function l(D){D.preventDefault(),g(o,""),g(f,!0),g(s,!1);const $={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update",data:n(),security:n().nonce})};try{const X=await fetch(`${window.ajaxurl}?action=update`,$);if(!X.ok)throw new Error("msg.network_error");if(!(await X.json()).success)throw new Error(a()("msg.network_error"));g(o,a()("msg.settings_saved"))}catch(X){g(s,!0),g(o,X.message)}g(f,!1)}Ae(()=>le(n()),()=>{n(n()&&typeof n()=="object"&&Object.keys(n()).length>0?n():d)}),Xe(),pe();var c=Fa(),p=re(c);dt(p,()=>y(o),D=>{var $=Ba(),X=i($),Yt=i(X),ye=i(Yt),be=_(X,2);x(()=>{fe($,`${(y(s)?"notice-error":"notice-success")??""} notice is-dismissible`),C(ye,y(o))}),ft("click",be,()=>g(o,"")),q(D,$)});var u=_(p,2),v=i(u);x(()=>C(v,a()("settings.title")));var h=_(u,2),b=_(i(h),2),w=i(b),j=i(w),S=i(j),I=i(S);x(()=>C(I,a()("settings.title_widget")));var k=_(S),P=i(k),H=_(j),B=i(H),E=i(B);x(()=>C(E,a()("settings.start_status")));var W=_(B),F=i(W);x(()=>{n().start_status,qe(()=>{a()})});var U=i(F);U.value=(U.__value="open")==null?"":"open";var rt=i(U);x(()=>C(rt,a()("settings.open")));var nt=_(U);nt.value=(nt.__value="closed")==null?"":"closed";var zt=i(nt);x(()=>C(zt,a()("settings.close")));var ut=_(H),pt=_(i(ut)),ct=i(pt);x(()=>{n().emoji,qe(()=>{a()})});var Q=i(ct);Q.value=(Q.__value="1")==null?"":"1";var Zt=i(Q);x(()=>C(Zt,a()("settings.on")));var At=_(Q);At.value=(At.__value="0")==null?"":"0";var It=i(At);x(()=>C(It,a()("settings.off")));var Tt=_(ut),Kt=i(Tt),M=i(Kt);x(()=>C(M,a()("settings.attaching_image_files")));var N=_(Kt),G=i(N);x(()=>{n().image_upload,qe(()=>{a()})});var _t=i(G);_t.value=(_t.__value="1")==null?"":"1";var he=i(_t);x(()=>C(he,a()("settings.on")));var Et=_(_t);Et.value=(Et.__value="0")==null?"":"0";var me=i(Et);x(()=>C(me,a()("settings.off")));var St=_(Tt),Re=i(St),sr=i(Re);x(()=>C(sr,a()("settings.initial_welcome")));var Le=_(Re),lr=i(Le),ur=_(St),ge=i(ur),cr=i(ge);x(()=>C(cr,a()("settings.system_prompt")));var fr=_(ge),Be=i(fr),dr=_(b,2),We=i(dr),Fe=i(We);dt(Fe,()=>y(f),D=>{var $=Ft();x(()=>C($,a()("button.save_process"))),q(D,$)},D=>{var $=Ft();x(()=>C($,a()("button.save"))),q(D,$)});var pr=_(h,2);dt(pr,()=>y(o),D=>{var $=Wa(),X=i($),Yt=i(X),ye=i(Yt),be=_(X,2);x(()=>{fe($,`${(y(s)?"notice-error":"notice-success")??""} notice is-dismissible`),C(ye,y(o))}),ft("click",be,()=>g(o,"")),q(D,$)}),x(()=>We.disabled=y(f)),O(P,()=>n().title,D=>n(n().title=D,!0)),Me(F,()=>n().start_status,D=>n(n().start_status=D,!0)),Me(ct,()=>n().emoji,D=>n(n().emoji=D,!0)),Me(G,()=>n().image_upload,D=>n(n().image_upload=D,!0)),O(lr,()=>n().initial_greeting,D=>n(n().initial_greeting=D,!0)),O(Be,()=>n().prompt_system,D=>n(n().prompt_system=D,!0)),ft("submit",h,l),q(t,c),Wt()}var Ga=K('<div><p><strong> </strong></p> <button type="button" class="notice-dismiss"><span class="screen-reader-text">Ukryj komunikat.</span></button></div>'),Ha=K('<form method="post"><h1> </h1> <div style="background-color: #f9f9f9; padding: 20px; margin-top: 10px; margin-bottom: 30px; border: 1px solid #ccc;"><table class="form-table" role="presentation"><tbody><tr><th scope="row">Primary Color</th><td><input name="primary_color" type="text"></td></tr><tr><th scope="row">Secondary Color</th><td><input name="secondary_color" type="text"></td></tr><tr><th scope="row">Background Color</th><td><input name="background_color" type="text"></td></tr><tr><th scope="row">Background Text Color</th><td><input name="background_text_color" type="text"></td></tr><tr><th scope="row">Background Input Color</th><td><input name="background_input_color" type="text"></td></tr><tr><th scope="row">Outline Input Color</th><td><input name="outline_input_color" type="text"></td></tr><tr><th scope="row">Button Color</th><td><input name="button_color" type="text"></td></tr><tr><th scope="row">Hover Button Color</th><td><input name="hover_button_color" type="text"></td></tr><tr><th scope="row">Cancel Btn File Color</th><td><input name="cancel_btn_file_color" type="text"></td></tr><tr><th scope="row">Animation Dot Color</th><td><input name="animation_dot_color" type="text"></td></tr></tbody></table></div> <h1>Ustawienia Widżetu</h1> <div style="background-color: #f9f9f9; padding: 20px; margin-top: 10px; margin-bottom: 30px; border: 1px solid #ccc;"><table class="form-table" role="presentation"><tbody><tr><th scope="row">Input Placeholder</th><td><input type="text" class="regular-text"></td></tr><tr><th scope="row">Chatbot Width Narrow</th><td><input type="text" name="width_narrow"></td></tr><tr><th scope="row">Chatbot Height Narrow</th><td><input type="text" name="height_narrow"></td></tr><tr><th scope="row">Chatbot Right Margin</th><td><input type="text" name="right_margin"></td></tr><tr><th scope="row">Chatbot Bottom Margin</th><td><input type="text" name="bottom_margin"></td></tr><tr><th scope="row">Chatbot Border Radius</th><td><input type="text" name="border_radius"></td></tr></tbody></table></div> <h1>Ustawienia przycisku Toggler</h1> <div style="background-color: #f9f9f9; padding: 20px; margin-top: 10px; border: 1px solid #ccc;"><table class="form-table" role="presentation"><tbody><tr><th scope="row">Toggler Right Margin</th><td><input type="text" name="toggler_right_margin"></td></tr><tr><th scope="row">Toggler Bottom Margin</th><td><input type="text" name="toggler_bottom_margin"></td></tr><tr><th scope="row">Toggler Radius</th><td><input type="text" name="toggler_border_radius"></td></tr><tr><th scope="row">Toggler Size</th><td><input type="text" name="toggler_size"></td></tr></tbody></table></div> <p class="submit"><button type="submit" name="submit" class="button button-primary"><!></button></p></form> <!>',1);function Va(t,e){Bt(e,!1);const r=_e(),a=()=>Gt(ve,"$t",r);let n=Ht(e,"initData",12),o=it(""),s=it(!1),f=it(!1),d={primary_color:"#a350C4",secondary_color:"#f2f2f2",background_color:"#fff",background_text_color:"#f2f2ff",background_input_color:"#fff",outline_input_color:"#ccccf5",button_color:"#706DB0",hover_button_color:"#8543A5",cancel_btn_file_color:"#FF0000",animation_dot_color:"#6F6BC2",width_narrow:"300px",height_narrow:"80vh",right_margin:"2rem",bottom_margin:"8rem",border_radius:"0.75rem",toggler_right_margin:"35px",toggler_bottom_margin:"30px",toggler_border_radius:"50%",toogler_size:"50px"};Ta(async()=>{jQuery(document).ready(function(m){m('input[name*="color"]').wpColorPicker()})});async function l(m){m.preventDefault(),g(o,""),g(f,!0),g(s,!1);const at=new FormData(m.target);n(n().styles=Object.fromEntries(at.entries()),!0);const Ue={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"update",data:n(),security:n().nonce})};try{const Jt=await fetch(`${window.ajaxurl}?action=update`,Ue);if(!Jt.ok)throw new Error("msg.network_error");if(!(await Jt.json()).success)throw new Error(a()("msg.network_error"));g(o,a()("msg.settings_saved"))}catch(Jt){g(s,!0),g(o,Jt.message)}g(f,!1)}Ae(()=>le(n()),()=>{n().input_placeholder}),Ae(()=>le(n()),()=>{n(n().chatgpt_styles=n().styles&&typeof n().styles=="object"&&Object.keys(n().styles).length>0?n().styles:d,!0)}),Xe(),pe();var c=Ha(),p=re(c),u=i(p),v=i(u);x(()=>C(v,a()("appearance.color_settings")));var h=_(u,2),b=i(h),w=i(b),j=i(w),S=_(i(j)),I=i(S),k=_(j),P=_(i(k)),H=i(P),B=_(k),E=_(i(B)),W=i(E),F=_(B),U=_(i(F)),rt=i(U),nt=_(F),zt=_(i(nt)),ut=i(zt),pt=_(nt),ct=_(i(pt)),Q=i(ct),Zt=_(pt),At=_(i(Zt)),It=i(At),Tt=_(Zt),Kt=_(i(Tt)),M=i(Kt),N=_(Tt),G=_(i(N)),_t=i(G),he=_(N),Et=_(i(he)),me=i(Et),St=_(h,4),Re=i(St),sr=i(Re),Le=i(sr),lr=_(i(Le)),ur=i(lr),ge=_(Le),cr=_(i(ge)),fr=i(cr),Be=_(ge),dr=_(i(Be)),We=i(dr),Fe=_(Be),pr=_(i(Fe)),D=i(pr),$=_(Fe),X=_(i($)),Yt=i(X),ye=_($),be=_(i(ye)),no=i(be),cn=_(St,4),ao=i(cn),oo=i(ao),fn=i(oo),io=_(i(fn)),so=i(io),dn=_(fn),lo=_(i(dn)),uo=i(lo),pn=_(dn),co=_(i(pn)),fo=i(co),po=_(pn),_o=_(i(po)),vo=i(_o),ho=_(cn,2),_n=i(ho),mo=i(_n);dt(mo,()=>y(f),m=>{var at=Ft();x(()=>C(at,a()("button.save_process"))),q(m,at)},m=>{var at=Ft();x(()=>C(at,a()("button.save"))),q(m,at)});var go=_(p,2);dt(go,()=>y(o),m=>{var at=Ga(),Ue=i(at),Jt=i(Ue),vn=i(Jt),yo=_(Ue,2);x(()=>{fe(at,`${(y(s)?"notice-error":"notice-success")??""} notice is-dismissible`),C(vn,y(o))}),ft("click",yo,()=>g(o,"")),q(m,at)}),x(()=>{za(I,n().styles.primary_color),_n.disabled=y(f)}),O(H,()=>n().styles.secondary_color,m=>n(n().styles.secondary_color=m,!0)),O(W,()=>n().styles.background_color,m=>n(n().styles.background_color=m,!0)),O(rt,()=>n().styles.background_text_color,m=>n(n().styles.background_text_color=m,!0)),O(ut,()=>n().styles.background_input_color,m=>n(n().styles.background_input_color=m,!0)),O(Q,()=>n().styles.outline_input_color,m=>n(n().styles.outline_input_color=m,!0)),O(It,()=>n().styles.button_color,m=>n(n().styles.button_color=m,!0)),O(M,()=>n().styles.hover_button_color,m=>n(n().styles.hover_button_color=m,!0)),O(_t,()=>n().styles.cancel_btn_file_color,m=>n(n().styles.cancel_btn_file_color=m,!0)),O(me,()=>n().styles.animation_dot_color,m=>n(n().styles.animation_dot_color=m,!0)),O(ur,()=>n().input_placeholder,m=>n(n().input_placeholder=m,!0)),O(fr,()=>n().styles.width_narrow,m=>n(n().styles.width_narrow=m,!0)),O(We,()=>n().styles.height_narrow,m=>n(n().styles.height_narrow=m,!0)),O(D,()=>n().styles.right_margin,m=>n(n().styles.right_margin=m,!0)),O(Yt,()=>n().styles.bottom_margin,m=>n(n().styles.bottom_margin=m,!0)),O(no,()=>n().styles.border_radius,m=>n(n().styles.border_radius=m,!0)),O(so,()=>n().styles.toggler_right_margin,m=>n(n().styles.toggler_right_margin=m,!0)),O(uo,()=>n().styles.toggler_bottom_margin,m=>n(n().styles.toggler_bottom_margin=m,!0)),O(fo,()=>n().styles.toggler_border_radius,m=>n(n().styles.toggler_border_radius=m,!0)),O(vo,()=>n().styles.toggler_size,m=>n(n().styles.toggler_size=m,!0)),ft("submit",p,l),q(t,c),Wt()}var Za=K('<div><h3>Opis</h3> <p>Chatbot Zoltiq for WordPress to wtyczka, która pozwala bez wysiłku zintegrować interfejs API ChatGPT firmy OpenAI z witryną e-commerce (WooCommerce), zapewniając potężnego chatbota opartego na sztucznej inteligencji, który zapewnia lepsze wrażenia użytkownika i spersonalizowane wsparcie.</p> <p>ChatGPT to konwersacyjna platforma AI, która wykorzystuje algorytmy przetwarzania języka naturalnego i uczenia maszynowego do interakcji z użytkownikami w sposób podobny do ludzkiego. Jest przeznaczony do odpowiadania na pytania, dostarczania sugestii i angażowania się w rozmowy z użytkownikami. ChatGPT jest ważny, ponieważ może zapewnić pomoc i wsparcie osobom, które tego potrzebują, szczególnie w sytuacjach, w których wsparcie ludzkie nie jest dostępne lub jest ograniczone. Może być również wykorzystywany do automatyzacji obsługi klienta, skracania czasu reakcji i zwiększania satysfakcji klientów. Co więcej, ChatGPT może być wykorzystywany w różnych dziedzinach, takich jak opieka zdrowotna, edukacja, finanse i wiele innych.</p> <p>Chatbot Zoltiq wykorzystuje platformę OpenAI przy użyciu dużych modeli modelu LLM, ożywiając ją w witrynie WordPress.</p> <p><b>Ważna informacja:</b> Ta wtyczka wymaga klucza API od OpenAI do poprawnego działania. Klucz API można uzyskać, rejestrując się na stronie <a href="https://platform.openai.com/account/api-keys" rel="nofollow ugc" target="_blank">https://platform.openai.com/account/api-keys</a>.</p> <p></p> <h3>Oficjalne strony:</h3> <ul style="list-style-type: disc; list-style-position: inside; padding-left: 1em;"><li><a href="https://zoltiq.com" rel="nofollow ugc" target="_blank">zoltiq.com</a></li> <li><a href="https://github.com/zoltiq/chatbot" target="_blank">https://github.com/zoltiq/chatbot</a></li></ul> <h3>Funkcje</h3> <ul style="list-style-type: disc; list-style-position: inside; padding-left: 1em;"><li>Łatwa konfiguracja i integracja z interfejsem API ChatGPT OpenAI</li> <li>Przyjazna dla użytkownika strona ustawień do zarządzania kluczem API i innymi parametrami</li> <li>Składany interfejs chatbota, gdy nie jest używany</li> <li>Komunikat powitalny dla nowych użytkowników</li> <li>Ustawienie określające, czy chatbot powinien być otwarty czy zamknięty po otwarciu strony</li> <li>Chatbot utrzymuje stan podczas nawigacji między stronami.</li> <li>Nazwa chatbota oraz początkowe powitanie i prompt systemowy są konfigurowalne</li></ul> <h3>Minimalne wymagania</h3> <ul style="list-style-type: disc; list-style-position: inside; padding-left: 1em;"><li>WordPress 6.3 lub wyższa</li> <li>WooCommerce 7.0 lub wyższa</li> <li>Wersja PHP 7.4 lub wyższa</li> <li>MariaDB 11.7.1 lub wyższa</li></ul> <h3>Instalacja</h3> <ol><li>Uzyskaj klucz API, rejestrując się na stronie <a href="https://platform.openai.com/account/api-keys" rel="nofollow ugc">https://platform.openai.com/account/api-keys</a>.</li> <li>Zainstaluj i aktywuj wtyczkę Chatbot Zoltiq.</li> <li>Przejdź do ustawień wtyczki (Settings &gt; API/Model), wprowadź swój klucz API i zapisz ustawienia.</li> <li>Kliknij przycisk „Uruchom osadzanie opisów produktów”</li> <li>Dostosuj wygląd widżetu Chatbota i inne parametry według potrzeb.</li></ol></div>'),Ka=K(`<div><h3>Description</h3> <p>Chatbot Zoltiq for WordPress is a plugin that allows you to effortlessly integrate OpenAI's ChatGPT API into your e-commerce (WooCommerce) site, providing you with a powerful AI-based chatbot that delivers a better user experience and personalized support.</p> <p>ChatGPT is a conversational AI platform that uses natural language processing and machine learning algorithms to interact with users in a human-like manner. It is designed to answer questions, provide suggestions and engage in conversations with users. ChatGPT is important because it can provide help and support to people who need it, especially in situations where human support is not available or is limited. It can also be used to automate customer service, reduce response times and increase customer satisfaction. What's more, ChatGPT can be used in a variety of fields, such as healthcare, education, finance and many others.</p> <p>Chatbot Zoltiq leverages the OpenAI platform using large LLM model models, bringing it to life on a WordPress site.</p> <p><b>Important notice:</b> This plugin requires an API key from OpenAI to work properly. You can obtain the API key by registering at <a href="https://platform.openai.com/account/api-keys" rel="nofollow ugc" target="_blank">https://platform.openai.com/account/api-keys</a>.</p> <p></p> <h3>Official sites:</h3> <ul style="list-style-type: disc; list-style-position: inside; padding-left: 1em;"><li><a href="https://zoltiq.com" rel="nofollow ugc" target="_blank">zoltiq.com</a></li> <li><a href="https://github.com/zoltiq/chatbot" target="_blank">https://github.com/zoltiq/chatbot</a></li></ul> <h3>Features</h3> <ul style="list-style-type: disc; list-style-position: inside; padding-left: 1em;"><li>Easy setup and integration with ChatGPT OpenAI API</li> <li>User-friendly settings page to manage API key and other parameters</li> <li>Welcome message at the beginning of the covesation</li> <li>Setting that determines whether the chatbot should be open or closed when the page is opened</li> <li>Chatbot maintains status and conversation history while navigating between pages</li> <li>Configurable chatbot name and system prompt</li></ul> <h3>Minimalne wymagania</h3> <ul style="list-style-type: disc; list-style-position: inside; padding-left: 1em;"><li>WordPress 6.3 or higher</li> <li>WooCommerce 7.0 or higher</li> <li>Wersja PHP 7.4 or higher</li> <li>MariaDB 11.7.1 or higher</li></ul> <h3>Instalacja</h3> <ol><li>Get an API key by registering at <a href="https://platform.openai.com/account/api-keys" rel="nofollow ugc">https://platform.openai.com/account/api-keys</a>.</li> <li>Install and activate the Zoltiq Chatbot plugin.</li> <li>Go to the plugin settings (Settings &gt; API/Model), enter your API key and save your settings.</li> <li>Click the “Embed product descriptions” button.</li> <li>Customize the appearance of the Chatbot widget and other parameters as needed.</li></ol></div>`),Ya=K("<h1> </h1> <!>",1);function Ja(t,e){Bt(e,!1);const r=_e(),a=()=>Gt(ve,"$t",r),n=()=>Gt(ir,"$locale",r);pe();var o=Ya(),s=re(o),f=i(s);x(()=>C(f,a()("supports.title")));var d=_(s,2);dt(d,()=>n()=="pl",l=>{var c=Za();q(l,c)},l=>{var c=Ka();q(l,c)}),q(t,o),Wt()}var Qa=K("<li><button> </button></li>"),Xa=K('<div class="chat-box"><!></div>'),to=K('<div class="wrap"><div class="chat-tab"><ul></ul></div> <!></div>');function eo(t,e){let r=Ht(e,"items",24,()=>[]),a=Ht(e,"initData",24,()=>({})),n=Ht(e,"activeTabValue",12,1);const o=c=>()=>n(c);var s=to(),f=i(s),d=i(f);tn(d,5,r,Xr,(c,p)=>{var u=Qa(),v=i(u),h=ne(()=>o(y(p).value)),b=i(v);x(()=>{fe(u,n()===y(p).value?"active":""),C(b,y(p).label)}),ft("click",v,function(...w){var j;(j=y(h))==null||j.apply(this,w)}),q(c,u)});var l=_(f,2);tn(l,1,r,Xr,(c,p)=>{var u=pa(),v=re(u);dt(v,()=>n()==y(p).value,h=>{var b=Xa(),w=i(b);xa(w,()=>y(p).component,(j,S)=>{S(j,{get initData(){return a()}})}),q(h,b)}),q(c,u)}),q(t,s)}function ro(t,e){Bt(e,!1);const r=_e(),a=()=>Gt(ve,"$t",r);let n=window.chatParams;Aa(ir,n.locale);let o=[{label:a()("apimodel.label"),value:1,component:La},{label:a()("settings.label"),value:2,component:Ua},{label:a()("appearance.label"),value:3,component:Va},{label:a()("supports.label"),value:4,component:Ja}];pe(),eo(t,{items:o,initData:n}),Wt()}return ha(ro,{target:document.querySelector("#chatbotSettings")})});
